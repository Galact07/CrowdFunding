(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{960:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/requests/new",function(){return a(8889)}])},8889:function(e,t,a){"use strict";a.r(t);var s=a(5893),n=a(7294),r=a(5424),i=a(416),l=a(8156),c=a(967),u=a(9824),o=a(262),d=a(7156),h=a(3165);let j=e=>{let[t,a]=(0,n.useState)(""),[j,x]=(0,n.useState)(""),[g,p]=(0,n.useState)(""),[Z,m]=(0,n.useState)(""),[_,w]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!0),[S,k]=(0,n.useState)(""),y=async a=>{a.preventDefault(),m("");let s=await (0,h.Z)(e.address);try{v(!1),k("It will take around 15 to 20 seconds to complete the transaction. Please Wait!"),w(!0);let n=await d.Z.eth.getAccounts();await s.methods.createRequest(t,d.Z.utils.toWei(j,"ether"),g).send({from:n[0]}),k(""),v(!0)}catch(r){v(!0),m(err.message)}w(!1),o.Router.replaceRoute("/campaigns/".concat(e.address,"/requests"))};return(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(o.Link,{legacyBehavior:!0,route:"/campaigns/".concat(e.address,"/requests"),children:(0,s.jsx)("a",{children:"Back"})}),(0,s.jsx)("h3",{children:"Create a Request"}),(0,s.jsxs)(r.Z,{onSubmit:y,error:!!Z,children:[(0,s.jsxs)(r.Z.Field,{children:[(0,s.jsx)("label",{children:"Description"}),(0,s.jsx)(i.Z,{value:t,onChange:e=>a(e.target.value)})]}),(0,s.jsxs)(r.Z.Field,{children:[(0,s.jsx)("label",{children:"Amount in Ether"}),(0,s.jsx)(i.Z,{value:j,onChange:e=>x(e.target.value)})]}),(0,s.jsxs)(r.Z.Field,{children:[(0,s.jsx)("label",{children:"Recipient"}),(0,s.jsx)(i.Z,{value:g,onChange:e=>p(e.target.value)})]}),(0,s.jsx)(l.Z,{error:!0,header:"Oops! Something Went Wrong",content:Z}),(0,s.jsx)(l.Z,{hidden:f,primary:!0,content:S}),(0,s.jsx)(c.Z,{loading:_,primary:!0,children:"Create"})]})]})};j.getInitialProps=async e=>{let{address:t}=e.query;return{address:t}},t.default=j}},function(e){e.O(0,[774,543,737,578,814,888,179],function(){return e(e.s=960)}),_N_E=e.O()}]);